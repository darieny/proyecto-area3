/* =========================
   Variables, paleta y resets
========================= */
:root{
  /* anchos sidebar */
  --sbw: 264px;                /* ancho normal */
  --sbw-collapsed: 72px;       /* colapsado desktop */

  /* paleta */
  --bg: #f7f7fb;
  --card: #ffffff;
  --border: #ececf4;
  --muted: #9aa0a6;
  --text: #2b2b2f;

  --peach: #FFEDE3;
  --blue:  #EAF1FF;
  --lilac: #F3EAFE;

  --shadow: 0 8px 20px rgba(0,0,0,.05);
}

*{ box-sizing:border-box }
body{ color:var(--text); background:var(--bg); }

/* ====== Quitar subrayado en todos los enlaces ====== */
a,
a:visited,
a:active {
  text-decoration: none;
  color: inherit;
}

a:hover {
  text-decoration: none;
  color: inherit;
}


/* =========================
   Layout general
========================= */
.shell{
  display:grid;
  grid-template-columns: var(--sbw) 1fr;  /* usa variable */
  min-height:100vh;
  background:var(--bg);
  transition: grid-template-columns .2s ease;
}
.main{
  display:flex;
  flex-direction:column;
  min-width:0;
}

/* ===== estado: colapsado (desktop) ===== */
.shell.is-collapsed{ --sbw: var(--sbw-collapsed); }

/* cuando está colapsado, ocultamos textos del menú */
.shell.is-collapsed .sb__text{ display:none; }
.shell.is-collapsed .sb__item{ justify-content:center; padding:10px; }
.shell.is-collapsed .sb__title{ display:none; }
.shell.is-collapsed .sb__logo{ font-size:22px; text-align:center; }

/* =========================
   Sidebar
========================= */
.sb{
  background:var(--card);
  border-right:1px solid var(--border);
  padding:22px 18px;
  display:flex;
  flex-direction:column;
  gap:18px;
}
.sb__logo{ font-weight:800; font-size:28px; letter-spacing:.5px; margin-bottom:6px; }
.sb__section{ display:flex; flex-direction:column; gap:6px }
.sb__title{ font-size:11px; letter-spacing:.12em; color:var(--muted); margin:10px 0 2px 10px; }
.sb__item{
  display:flex; align-items:center; gap:12px;
  padding:10px 12px; border-radius:10px;
  border:none; background:transparent; text-align:left;
  color:var(--text); cursor:pointer;
}
.sb__item:hover{ background:#f2f4f8 }
.sb__item.active{ background:#ebeefc }
.sb .dot{ width:9px; height:9px; border-radius:50%; background:#ff6b6b; display:inline-block }
.sb__text{ white-space:nowrap; }
.mt{ margin-top:auto }

/* =========================
   Topbar
========================= */
.tb{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 22px;
  border-bottom:1px solid var(--border);
  background:var(--card);
  position:sticky; top:0; z-index:10;
}
.tb__search{
  width:520px; max-width:52vw;
  border:1px solid #e6e6ef; border-radius:12px;
  padding:10px 12px; font-size:14px; outline:none;
}
.tb__search:focus{ border-color:#c8cdfa; box-shadow:0 0 0 3px rgba(92,107,255,.1) }
.tb__right{ display:flex; align-items:center; gap:12px }
.tb__icon{
  width:36px; height:36px; border-radius:10px;
  border:1px solid #e6e6ef; background:#fff; cursor:pointer;
}
.tb__user{ display:flex; align-items:center; gap:10px }
.tb__avatar{ width:36px; height:36px; border-radius:50%; background:#dedffd; display:grid; place-items:center; font-weight:700 }
.tb__name{ font-size:14px }

/* =========================
   Dashboard grid
========================= */
.dash{ padding:22px; display:grid; gap:24px }
.greet{ margin:6px 0 2px 2px }
.dash__kpis{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:16px }
.dash__bottom{ display:grid; grid-template-columns:2fr 1fr; gap:16px }

/* =========================
   Tarjetas KPI
========================= */
.kpi{ border-radius:16px; padding:18px; background:var(--card); box-shadow:var(--shadow); }
.kpi__title{ font-size:14px; opacity:.75; margin-bottom:12px }
.kpi__value{ font-size:36px; font-weight:700 }
.kpi--peach{ background:var(--peach) }
.kpi--blue{  background:var(--blue) }
.kpi--lilac{  background:var(--lilac) }

/* =========================
   Panels, listas y trend
========================= */
.panel{ background:var(--card); border-radius:16px; padding:18px; box-shadow:var(--shadow); border:1px solid var(--border) }
.panel__title{ font-size:14px; opacity:.75; margin-bottom:8px }
.panel__big{ font-size:44px; font-weight:700 }
.list{ display:flex; flex-direction:column; gap:12px; margin:12px 0 }
.list__item{ background:#fff; border:1px solid var(--border); border-radius:12px; padding:14px }
.list__title{ font-weight:600 }
.list__meta{ font-size:12px; opacity:.7 }
.trend__sparkline{
  height:48px; border-radius:8px; margin:8px 0;
  background:
    radial-gradient(8px 20px at 20% 50%, rgba(255,0,0,.15), transparent 70%),
    linear-gradient(90deg, rgba(0,0,0,.06), transparent 70%);
}

/* =========================
   Calendario derecho
========================= */
.cal .cal__head{ font-weight:700; margin-bottom:8px }
.cal__grid{ display:grid; grid-template-columns:repeat(7,1fr); gap:8px }
.cal__labels{ margin-bottom:6px }
.cal__lbl{ font-size:12px; color:var(--muted); text-align:center }
.cal__cell{ height:36px; border:1px solid var(--border); border-radius:8px; display:grid; place-items:center; background:#fff }
.cal__cell.is-empty{ border:none; background:transparent }
.cal__foot{ margin-top:12px }
.cal__empty{ font-size:13px; color:var(--muted) }

/* =========================
   Estados varios
========================= */
.skeleton{ opacity:.6 }
.error{ color:#b00020 }

/* =========================
   Responsive
========================= */
@media (max-width: 1100px){
  .tb__search{ max-width:42vw }
}
@media (max-width: 920px){
  .shell{ grid-template-columns:1fr; }
  /* off-canvas */
  .sb{
    position:fixed; inset:0 auto 0 0;
    width:264px; max-width:80vw;
    transform:translateX(-100%);
    transition:transform .25s ease;
    z-index:30;
  }
  .shell.menu-open .sb{ transform:translateX(0); }
  .shell.menu-open::after{
    content:""; position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:20;
  }
  /* en móvil ignoramos el colapsado */
  .shell.is-collapsed{ --sbw: 1fr; }
  .dash__kpis{ grid-template-columns:1fr; }
  .grid2{ grid-template-columns:1fr; }
  .dash__bottom{ grid-template-columns:1fr; }
}

/* ===== User menu (Topbar) ===== */
.tb__user--menu { position: relative; }
.tb__userbtn{
  display:flex; align-items:center; gap:10px;
  background:transparent; border:1px solid #e6e6ef;
  padding:6px 10px; border-radius:999px; cursor:pointer;
}
.tb__userbtn:focus { outline:2px solid #5c6bff33; outline-offset:2px; }
.tb__chev{ opacity:.6 }

.tb__dropdown{
  position:absolute; right:0; top:calc(100% + 8px);
  width:240px; background:var(--card);
  border:1px solid var(--border); border-radius:12px;
  padding:8px; box-shadow: var(--shadow);
  transform: translateY(-6px);
  opacity:0; pointer-events:none;
  transition: opacity .15s ease, transform .15s ease;
  z-index: 50;
}
.tb__user--menu.is-open .tb__dropdown{
  transform: translateY(0); opacity:1; pointer-events:auto;
}

.tb__userinfo{
  display:flex; align-items:center; gap:10px;
  padding:8px; border-bottom:1px dashed var(--border); margin-bottom:6px;
}
.tb__avatar--sm{ width:32px; height:32px; }
.tb__meta .tb__uname{ font-weight:700; line-height:1.1; }
.tb__meta .tb__urole{ font-size:.8rem; color:var(--muted); }

.tb__menuitem{
  width:100%; text-align:left;
  padding:10px; border-radius:8px;
  background:transparent; border:none; cursor:pointer;
}
.tb__menuitem:hover{ background:#f3f4f6; }

/* Responsive */
@media (hover: none) {
  .tb__user--menu { pointer-events:auto; }
}

/* Botón "Ver todas las visitas" */
.panel__foot{
  margin-top:16px;
  display:flex;
  justify-content:flex-start;
}

.btn-more{
  appearance: none;
  background:#fff;
  border:1px solid var(--border);
  border-radius:999px;
  padding:8px 14px;
  font-size:13px;
  font-weight:500;
  color:var(--text);
  line-height:1.2;
  display:inline-flex;
  align-items:center;
  gap:6px;
  box-shadow:0 4px 10px rgba(0,0,0,.04);
  cursor:pointer;
  transition:all .18s ease;
}

.btn-more:hover{
  background:#f9f9ff;
  border-color:#d5d7ff;
  box-shadow:0 8px 20px rgba(92,107,255,.12);
  transform:translateY(-1px);
}

.btn-more:active{
  transform:scale(.98);
  box-shadow:0 2px 4px rgba(0,0,0,.08);
}

.btn-more__arrow{
  font-size:14px;
  line-height:1;
  transition:transform .18s ease;
}

.btn-more:hover .btn-more__arrow{
  transform:translateX(2px);
}
